# =============================================================================
# SECRETS POUR LES BACKUPS
# =============================================================================

---
# Secret pour MySQL (OpenMetadata)
apiVersion: v1
kind: Secret
metadata:
  name: mysql-backup-credentials
  namespace: {{ .Values.global.namespace }}
type: Opaque
stringData:
  username: "root"
  password: "password"  # Même password que dans openmetadata-dependencies

---
# Secret pour PostgreSQL (Harbor)
apiVersion: v1
kind: Secret
metadata:
  name: postgresql-backup-credentials
  namespace: {{ .Values.global.namespace }}
type: Opaque
stringData:
  username: "postgres"
  password: "changeit"  # Password par défaut Harbor

---
# Secret pour MinIO
apiVersion: v1
kind: Secret
metadata:
  name: minio-backup-credentials
  namespace: {{ .Values.global.namespace }}
type: Opaque
stringData:
  access-key: {{ .Values.global.minio.accessKey | quote }}
  secret-key: {{ .Values.global.minio.secretKey | quote }}

