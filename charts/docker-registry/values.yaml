# Docker Registry Helm Chart Values
# Chart: twuni/docker-registry

# Replicas
replicaCount: 1

# Image
image:
  repository: registry
  tag: 2.8.3
  pullPolicy: IfNotPresent

# Service
service:
  name: registry
  type: NodePort
  port: 5000
  nodePort: 30500

# Persistence
persistence:
  enabled: true
  size: 100Gi
  storageClass: "longhorn"
  accessMode: ReadWriteOnce
  deleteEnabled: true

# Resources
resources:
  requests:
    cpu: 100m
    memory: 256Mi
  limits:
    cpu: 500m
    memory: 512Mi

# Storage Configuration
storage: filesystem

# S3 Storage (optionnel, utiliser MinIO)
s3:
  enabled: false
  region: us-east-1
  bucket: harbor
  encrypt: false
  secure: false
  endpoint: http://minio.minio.svc:9000
  accessKey: minioadmin
  secretKey: minioadmin123

# Authentication (disabled pour dev)
secrets:
  htpasswd: ""

# TLS (disabled pour dev)
tlsSecretName: ""

# Configuration
configData:
  version: 0.1
  log:
    fields:
      service: registry
  storage:
    cache:
      blobdescriptor: inmemory
    delete:
      enabled: true
  http:
    addr: :5000
    headers:
      X-Content-Type-Options: [nosniff]
  health:
    storagedriver:
      enabled: true
      interval: 10s
      threshold: 3

# SecurityContext
securityContext:
  enabled: true
  runAsUser: 1000
  fsGroup: 1000

# Pod Annotations
podAnnotations: {}

# Node Selector
nodeSelector: {}

# Tolerations
tolerations: []

# Affinity
affinity: {}
